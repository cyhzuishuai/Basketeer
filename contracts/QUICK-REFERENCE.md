# Basketeer V4 å¿«é€Ÿå‚è€ƒ

## ğŸ—ï¸ ç®€åŒ–æ¶æ„å›¾

```
                    ğŸŒ Basketeer V4 ç”Ÿæ€ç³»ç»Ÿ
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                           â”‚
    â”‚  ğŸ‘¤ ç”¨æˆ·äº¤äº’                                              â”‚
    â”‚   â”‚                                                       â”‚
    â”‚   â–¼                                                       â”‚
    â”‚  ğŸ“Š BasketeerV4 (ç­–ç•¥åˆçº¦)                                  â”‚
    â”‚   â”‚                                                       â”‚
    â”‚   â”œâ”€â”€ ğŸ”® OracleModuleV2    (TWAPä»·æ ¼)                     â”‚
    â”‚   â”œâ”€â”€ ğŸ’° PricingModuleV2   (å®šä»·è®¡ç®—)                     â”‚
    â”‚   â””â”€â”€ ğŸ”„ TradingModuleV2   (äº¤æ˜“æ‰§è¡Œ)                     â”‚
    â”‚                                                           â”‚
    â”‚  ğŸ“š ç®¡ç†å±‚                                                 â”‚
    â”‚   â”œâ”€â”€ BasketeerRegistry   (ç­–ç•¥æ³¨å†Œ)                       â”‚
    â”‚   â””â”€â”€ BasketeerDeployer   (ç­–ç•¥éƒ¨ç½²)                       â”‚
    â”‚                                                           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“‚ æ ¸å¿ƒç»„ä»¶

| ç»„ä»¶ | åŠŸèƒ½ | å¤§å° | å¤ç”¨æ€§ |
|------|------|------|--------|
| ğŸ”® Oracle | TWAPä»·æ ¼ç®¡ç† | ~5KB | æ‰€æœ‰ç­–ç•¥å…±äº« |
| ğŸ’° Pricing | å‡€å€¼è®¡ç®— | ~3KB | æ‰€æœ‰ç­–ç•¥å…±äº« |
| ğŸ”„ Trading | äº¤æ˜“æ‰§è¡Œ | ~4KB | æ‰€æœ‰ç­–ç•¥å…±äº« |
| ğŸ“Š Strategy | ç­–ç•¥ä¸»é€»è¾‘ | ~8KB | æ¯ä¸ªç­–ç•¥ç‹¬ç«‹ |
| ğŸ“š Registry | ç­–ç•¥æ³¨å†Œè¡¨ | ~2KB | å…¨å±€å”¯ä¸€ |
| ğŸ­ Deployer | ç­–ç•¥å·¥å‚ | ~3KB | å…¨å±€å”¯ä¸€ |

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

```bash
# 1. éƒ¨ç½²åŸºç¡€è®¾æ–½ (ä¸€æ¬¡æ€§)
npx hardhat run scripts/deploy-ultra-minimal.js

# 2. åˆ›å»ºç­–ç•¥ (é‡å¤)
deployer.deployStrategy(tokens, weights, name, symbol, usd, pairs)

# 3. æ³¨å†Œç­–ç•¥
registry.registerStrategy(strategyAddress)
```

## ğŸ’¡ æ ¸å¿ƒä¼˜åŠ¿

- âœ… **è¶…å°åˆçº¦**: æ¯ä¸ªç»„ä»¶éƒ½ < 10KB
- âœ… **æä½æˆæœ¬**: æ¨¡å—å¤ç”¨ï¼Œç­–ç•¥åˆ›å»ºä¾¿å®œ
- âœ… **å®Œå…¨å»ä¸­å¿ƒåŒ–**: æ— ç®¡ç†å‘˜ï¼Œæ— å‡çº§æƒé™
- âœ… **é«˜åº¦æ¨¡å—åŒ–**: åŠŸèƒ½åˆ†ç¦»ï¼Œæ˜“äºç»´æŠ¤

## ğŸ”— è°ƒç”¨å…³ç³»

```
ç”¨æˆ· â†’ ç­–ç•¥åˆçº¦ â†’ æ¨¡å—åˆçº¦ â†’ å¤–éƒ¨åè®®
 â”‚       â”‚         â”‚         â”‚
 â”‚       â”‚         â”‚         â”œâ”€ Uniswap V2
 â”‚       â”‚         â”‚         â””â”€ ERC20 ä»£å¸
 â”‚       â”‚         â”‚
 â”‚       â”‚         â”œâ”€ Oracle (ä»·æ ¼)
 â”‚       â”‚         â”œâ”€ Pricing (è®¡ç®—)
 â”‚       â”‚         â””â”€ Trading (äº¤æ˜“)
 â”‚       â”‚
 â”‚       â”œâ”€ å­˜æ¬¾é€»è¾‘
 â”‚       â”œâ”€ ææ¬¾é€»è¾‘
 â”‚       â””â”€ å‡€å€¼æŸ¥è¯¢
 â”‚
 â”œâ”€ depositSingle()
 â”œâ”€ withdraw()
 â””â”€ basketUsd()
```

è¿™ä¸ªV4æ¶æ„æ˜¯è¿„ä»Šä¸ºæ­¢æœ€ä¼˜åŒ–çš„ç‰ˆæœ¬ï¼Œåº”è¯¥èƒ½å®Œå…¨è§£å†³åˆçº¦å¤§å°é™åˆ¶é—®é¢˜ï¼
